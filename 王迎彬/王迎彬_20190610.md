#基于LINUX的C++（4）

##一、算法

###1.库与接口

（1）库与程序文件

程序文件：源文件（*.cpp）、头文件（*.h、*.hpp、*）
库：源文件与头文件

（2）接口

通过接口使用库：包括指定库的头文件与源文件

优势：不需了解库的实现细节，只需了解库的使用方法

###2.标准库
C标准库：标准输入输出库、工具与辅助函数库、字符串库

C++标准库：输入输出流库、字符串库、标准模板库

###3.数学库

（1）数学库

头文件：math.h/cmath

库文件：libm

链接方式：g++ -lm main.cpp

（2）数学函数

三角函数与反三角函数系列

幂函数与对数函数系列

其他数学函数

###4.标准库辅助函数

工具与辅助函数，头文件：stdlib.h/cstdlib

常用函数：

void exit( int status );

void free( void * p );

void * malloc( size_t size );

int rand();

void srand( unsigned int seed );

###5.接口设计原则

用途一致：接口中所有函数都属于同一类问题

操作简单：函数调用方便，最大限度隐藏操作细节

功能充足：满足不同潜在用户的需要

性能稳定：经过严格测试，不存在程序缺陷

###6.随机数库测试

单独测试库的所有函数：合法参数时返回结果是否正确；非法参数时返回结果是否正确，即容错功能是否正常。

联合测试：多次运行程序，查看生成的数据是否随机；测试整数与浮点数随机数是否均能正确工作。

##二、作用域与生存期

###1.量的作用域与可见性

（1）作用域与可见性

作用域：标识符的有效范围

可见性：程序中某个位置是否可以使用某个标识符

标识符仅在其作用域内可见

位于作用域内的标识符不一定可见

（2）局部数据对象

定义于函数或复合语句块内部的数据对象（包括变量、常量与函数形式参数等）

局部数据对象具有块作用域，仅在定义它的块内有效

有效性从定义处开始直到该块结束

（3）全局数据对象

定义于函数或复合语句块之外的数据对象

全局数据对象具有文件（全局）作用域，有效性从定义处开始直到本文件结束，其后函数都可直接使用

若包含全局数据对象定义的文件被其他文件包含，则其作用域扩展到宿主文件中，这可能会导致问题，为什么？不要在头文件中定义全局数据对象

函数原型作用域

定义在函数原型中的参数具有函数原型作用域，其有效性仅延续到此函数原型结束，函数原型中参数名称可以与函数实现中的不同，也可以省略。

2.量的存储类与生存期

生存期：量在程序中存在的时间范围

C/C++ 使用存储类表示生存期，作用域表达量的空间特性，存储类表达量的时间特性。

静态（全局）生存期

全局数据对象具有静态（全局）生存期，生死仅与程序是否执行有关。

自动（局部）生存期

局部数据对象具有自动（局部）生存期，生死仅与程序流程是否位于该块中有关，程序每次进入该块时就为该对象分配内存，退出该块时释放内存；两次进入该块时使用的不是同一个数据对象。

###3.static 关键字

修饰局部变量：静态局部变量

使局部变量具有静态生存期，程序退出该块时局部变量仍存在，并且下次进入该块时使用上一次的数据值，静态局部变量必须进行初始化；不改变量的作用域，仍具有块作用域，即只能在该块中访问，其他代码段不可见。

修饰全局变量：使其作用域仅限定于本文件内部，其他文件不可见。

###4.函数的作用域与生存期

所有函数具有文件作用域与静态生存期。在程序每次执行时都存在，并且可以在函数原型或函数定义之后的任意位置调用

###5.内部函数与外部函数

外部函数：可以被其他文件中的函数所调用

内部函数：不可以被其他文件中的函数所调用

函数缺省时均为外部函数

内部函数定义：使用 static 关键字

内部函数示例：static int Transform( int x );

内部函数示例：static int Transform( int x ){ … }

###7.声明与定义

声明不是定义：定义在程序产生一个新实体，声明仅仅在程序中引入一个实体。

函数的声明与定义：声明是给出函数原型，定义是给出函数实现代码。

类型的声明与定义：产生新类型就是定义。

类型定义示例：typedef enum __BOOL { FALSE, TRUE }  BOOL;
不产生新类型就不是定义，而仅仅是声明

类型声明示例： enum __BOOL;

三、编写函数，返回1～52之间的随机数。

    #include<iostream>
    #include<cstdlib>//标准辅助函数库（exit(),rand(),srand()...）
    #include<ctime>
    using namespace std;
    int main()
    {
    int i,a,b,n;//a-表示下限，b-表示上限，n是个数；
    cout<<"On this computer,the RAND_MAX is : "<<RAND_MAX<<".\n";
    cout<<"vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv:\n";
    srand((int)time(0));
    cout<<" 请输入范围 [a,b],以及个数n"<<endl;
    cin>>a;
    cin>>b;
    cin>>n;
    if(a>b)
    {
    cout<<"请重新输入"<<endl;
    exit(1);
    }
    cout<<"输出n个随机数"<<endl;
    for(i=0;i<n;i++)
      cout<<(int)(((double)rand()/RAND_MAX)*(b-a)+a)<<endl;
      return 0;
    }

![](https://i.imgur.com/dtaA4YO.png)








