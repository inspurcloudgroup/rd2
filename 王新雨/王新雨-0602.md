## 王新雨 0531 当日总结

## 1 学习内容


## 设计模式

### 实验1  设计模式简介

设计模式是一套被反复使用、多数人知晓的、经过分类的、代码设计的 经验的总结。使用设计模式是为了可重用代码，让代码更容易被他人理解，保证代码可靠性。

**设计模式分类**

通常来说设计模式分为三大类：

   - 创建型模式，共 5 种：工厂模式、抽象工厂模式、单例模式、建造者模式、原型模式。
   - 结构型模式，共 7 种：适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式。
   - 行为型模式，共 11 种：策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。

![](https://doc.shiyanlou.com/userid46108labid863time1429495366116/wm)


### 实验2 工厂模式

工厂模式根据不同的参数来实现不同的分配方案和创建对象。在工厂模式中，我们在创建对象时不会对客户端暴露创建逻辑，并且是通过使用一个共同的接口来指向新创建的对象。

工厂模式通常分为：

   - 普通工厂模式
   - 多个工厂方法模式
   - 静态工厂方法模式

**普通工厂模式**

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559483000597)

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559483006127)

**多个工厂方法模式**

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559483212988)

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559483218708)

**静态工厂方法模式**

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559483416736)

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559483421264)

**总结：**
凡是出现了大量的产品需要创建，并且具有共同的接口时，可以通过工厂方法模式进行创建。在以上的三种模式中，第一种如果传入的字符串有误，不能正确创建对象，第三种相对于第二种，不需要实例化工厂类，所以，大多数情况下，我们会选用第三种——静态工厂方法模式。

**工厂模式应用**

在 Java 库里面。根据不同的参数，getInstance() 方法会返回不同的 Calendar 对象。

```
java.util.Calendar - getInstance()
java.util.Calendar - getInstance(TimeZone zone)
java.util.Calendar - getInstance(Locale aLocale)
java.util.Calendar - getInstance(TimeZone zone, Locale aLocale)
java.text.NumberFormat - getInstance()
java.text.NumberFormat - getInstance(Locale inLocale)
```

### 抽象工厂模式

抽象工厂模式提供了一种方式，可以将一组具有同一主题的单独的工厂封装起来。如果比较抽象工厂模式和工厂模式，我们不难发现前者只是在工厂模式之上增加了一层抽象的概念。抽象工厂是一个父类工厂，可以创建其它工厂类。所以我们也叫它 “工厂的工厂”。

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559486597154)

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559486602814)

**应用**

抽象工厂模式特别适合于这样的一种产品结构：产品分为几个系列，在每个系列中，产品的布局都是类似的，在一个系列中某个位置的产品，在另一个系列中一定有一个对应的产品。这样的产品结构是存在的，这几个系列中同一位置的产品可能是互斥的，它们是针对不同客户的解决方案，每个客户都只选择其一。

**工厂方法模式、抽象工厂模式区别**

先介绍两个概念：

   - 产品等级结构：比如一个抽象类是食物，其子类有苹果、牛奶等等，则抽象食物与具体食物名称之间构成了一个产品等级结构。食物是抽象的父类，而具体的食物名称是其子类。

   - 产品族：在抽象工厂模式中，产品族是指由同一个工厂生产的，位于不同产品等级结构中的一组产品。如 AKitchen 生产的苹果、刀子，苹果属于食物产品等级结构中，而刀子则属于餐具产品等级结构中。而 BKitchen 可能生成另一组产品，如牛奶、杯子。

因此工厂方法模式、抽象工厂模式最大的区别在于：

**工厂方法模式：针对的是 一个产品等级结构。**

**抽象工厂模式：针对 多个产品等级结构。**

### 适配器模式

当你想使用一个已有的类，但是这个类的接口跟你的又不一样，不能拿来直接用，这个时候你就需要一个适配器来帮你了。

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559489195235)

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559489201267)

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190602-1559489206222)

其主要作用就是在旧的接口、新的接口之间完成适配。

**适配器模式的三个特点：**

   - 适配器对象实现原有接口
   - 适配器对象组合一个实现新接口的对象（这个对象也可以不实现一个接口，只是一个单纯的对象）
   - 对适配器原有接口方法的调用被委托给新接口的实例的特定方法


## 2 心得

今天学习了设计模式中的工厂模式，抽象设计模式以及适配器模式。

**明日计划**
设计模式和github部分内容。