## 王新雨 0606 当日总结

## 1 学习内容


### Git 分支管理

命令 ```git fetch```，它的作用是将远程仓库的分支信息拉取到本地仓库，注意，仅仅是更新了本地的远程分支信息，也就是执行 ```git branch -avv ```命令时，查看到的 remotes 开头的行的分支信息。

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190606-1559824223506)

```fetch``` 命令的作用是刷新保存在本地仓库的远程分支信息，此命令需要联网。此时若想使本地 master 分支的提交版本为最新，可以执行 git pull 命令来拉取远程分支到本地，pull 是拉取远程仓库的数据到本地，需要联网，而由于前面执行过 ```git fetch``` 命令，所以也可以执行``` git rebase origin/master ```命令来实现 “使本地 master 分支基于远程仓库的 master 分支”。

**创建新的本地分支**

执行``` git branch [分支名]``` 可以创建新的分支。

此命令创建新分支后并未切换到新分支，还是在 master 分支上，执行``` git checkout [分支名] ```切换分支。

创建新分支还要手动切换太麻烦，介绍另一个常用的命令 ```git checkout -b [分支名] ```创建分支并切换到新分支。

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190606-1559828711774)

前两行是新建的本地分支信息，它们的版本号与主分支 master 一致，这是因为在哪个分支上创建新分支，新分支的提交记录就与哪个分支一致。新建分支并无跟踪任何远程分支，所以没有 master 分支中的中括号和括号内的蓝色远程分支名。

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190606-1559829447592)

**将新分支中的提交推送至远程仓库**

执行 ```git push [主机名] [本地分支名]:[远程分支名] ```即可将本地分支推送到远程仓库的分支中，通常冒号前后的分支名是相同的，如果是相同的，可以省略 :[远程分支名]，如果远程分支不存在，会自动创建：

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190606-1559830030619)

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190606-1559830082334)

**本地分支跟踪远程分支**

执行这个命令 ```git branch -u [主机名/远程分支名] [本地分支名]``` 将本地分支与远程分支关联，或者说使本地分支跟踪远程分支。如果是设置当前所在分支跟踪远程分支，最后一个参数本地分支名可以省略不写：

执行 ```git branch --unset-upstream [分支名]``` 即可撤销该分支对远程分支的跟踪，同样地，如果撤销当前所在的分支的跟踪，分支名可以省略不写：

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190606-1559830392846)

前面的操作是先将本地分支推送到远程仓库，使远程仓库创建新分支，然后再执行命令使本地分支跟踪远程分支，有没有办法在推送时就自动跟踪远程分支呢？有的，在推送的时候，加个``` --set-upstream``` 或其简写 ```-u ```选项即可，现在切换到 dev 分支试一下这个命令：

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190606-1559830972075)

**删除远程分支**

删除远程分支，使用 ```git push [主机名] :[远程分支名] ```，如果一次性删除多个，可以这样：```git push [主机名] :[远程分支名] :[远程分支名] :[远程分支名]``` 。此命令的原理是将空分支推送到远程分支，结果自然就是远程分支被删除。另一个删除远程分支的命令：```git push [主机名] --delete [远程分支名]```。删除远程分支的命令可以在任意本地分支中执行。两个命令分别试一下：

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190606-1559831654414)

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190606-1559831661942)

**本地分支的更名与删除**

使用 ```git branch -D [分支名] ```删除本地分支，同样地，此命令也可以一次删除多个，将需要删除的分支名罗列在命令后面即可。在此之前，先介绍一个极少用到的命令：给本地分支改名 ```git branch -m [原分支名] [新分支名]``` ，若修改当前所在分支的名字，原分支名可以省略不写：

![图片描述](https://dn-simplecloud.shiyanlou.com/courses/uid1080331-20190606-1559831933060)



## 2 心得

今天学习了Git 分支管理,包括git fetch 刷新本地分支信息、创建新的本地分支、将新分支中的提交推送至远程仓库、本地分支跟踪远程分支、删除远程分支、本地分支的更名与删除。

**明日计划**
Spring和github部分内容。